import{r as o,j as e,S as E,e as h,a9 as P,aa as q,ab as $,ac as A}from"./vendor_react-DXiryTHP.js";import{u as B}from"./chapterview-B02STcsL.js";import{u as I}from"./conceptcard-CDDsxe1s.js";import V from"./loadingspinner-DNzNT9Ti.js";const M=({grades:g,onBack:f})=>{const{t:r,tCurriculum:v}=B(),{login:j,signup:w,loading:c,error:y}=I(),[a,k]=o.useState(!0),[l,m]=o.useState(""),[n,u]=o.useState(""),[i,x]=o.useState(""),[d,p]=o.useState(""),[N,s]=o.useState(null),L=()=>{m(""),u(""),x(""),p(""),s(null)},F=()=>{k(!a),L()},S=()=>!i.trim()||!l.trim()||!n.trim()||!d?(s("All fields are required."),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)?n.length<6?(s("Password must be at least 6 characters long."),!1):(s(null),!0):(s("Please enter a valid email address."),!1),R=async t=>{t.preventDefault(),s(null);try{if(a){if(!l||!n){s("Email and password are required.");return}await j(l,n)}else{if(!S())return;await w(i,l,n,d)}}catch(C){s(C.message)}},b=N||y;return e.jsxs("div",{className:"max-w-md mx-auto animate-fade-in",children:[e.jsxs("button",{onClick:f,className:"flex items-center text-primary hover:text-primary-dark font-semibold transition mb-6",style:{color:"rgb(var(--c-primary))"},children:[e.jsx(E,{className:"h-5 w-5 mr-2"}),r("backToRoles")]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-block p-3 bg-primary-light rounded-full mb-3",style:{backgroundColor:"rgb(var(--c-primary-light))"},children:e.jsx(h,{className:"h-10 w-10 text-primary-dark",style:{color:"rgb(var(--c-primary-dark))"}})}),e.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:r(a?"welcomeBackLearner":"joinTheAdventure")}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:r(a?"loginPrompt":"signupPrompt")})]}),e.jsxs("form",{onSubmit:R,className:"space-y-5",children:[!a&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"student-name",className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:r("studentNameLabel")}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"h-5 w-5 absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500 pointer-events-none"}),e.jsx("input",{type:"text",id:"student-name",value:i,onChange:t=>x(t.target.value),placeholder:r("studentNamePlaceholder"),className:"w-full pl-11 pr-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"h-5 w-5 absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500 pointer-events-none"}),e.jsx("input",{type:"email",id:"email",value:l,onChange:t=>m(t.target.value),placeholder:"you@example.com",className:"w-full pl-11 pr-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"h-5 w-5 absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500 pointer-events-none"}),e.jsx("input",{type:"password",id:"password",value:n,onChange:t=>u(t.target.value),placeholder:"••••••••",className:"w-full pl-11 pr-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition",required:!0})]})]}),!a&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"grade-select",className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:r("gradeLabel")}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"h-5 w-5 absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500 pointer-events-none"}),e.jsxs("select",{id:"grade-select",value:d,onChange:t=>p(t.target.value),className:"w-full pl-11 pr-10 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition appearance-none",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:r("selectGradePlaceholder")}),g.map(t=>e.jsx("option",{value:t.level,children:v(t.level)},t.level))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-slate-500 dark:text-slate-400",children:e.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),b&&e.jsxs("div",{role:"status",className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg flex items-center text-sm font-semibold text-red-700 dark:text-red-300 animate-fade-in",children:[e.jsx(A,{className:"h-5 w-5 mr-2 flex-shrink-0"}),e.jsx("span",{children:b})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center px-8 py-3 text-white font-bold rounded-lg btn-primary-gradient disabled:opacity-70",children:c?e.jsx(V,{}):r(a?"loginButton":"createAccountButton")})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:F,className:"text-sm font-semibold text-primary hover:underline",style:{color:"rgb(var(--c-primary))"},children:r(a?"signupInstead":"loginInstead")})})]})]})};export{M as L};
