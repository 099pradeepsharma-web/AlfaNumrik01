import{r as d,j as e,S as q,ai as W,q as E,aj as Z,ak as Q,k as X,al as ee,am as te,A as re,an as ae}from"./vendor_react-DXiryTHP.js";import{u as R,z as se,A as le}from"./chapterview-B02STcsL.js";import{G as ne,T as h}from"./vendor-D07iqKQo.js";import{C as P}from"./personalizedpath-CMywhJ14.js";import A from"./loadingspinner-DNzNT9Ti.js";const oe=new ne({apiKey:"AIzaSyDezSOh-MZmUSBwYcfWu50Tc0aEuwNxD_o"}),ie={type:h.OBJECT,properties:{questionText:{type:h.STRING},questionType:{type:h.STRING,enum:["MCQ","Short Answer","Long Answer"]},difficulty:{type:h.STRING,enum:["Easy","Medium","Hard"]},bloomTaxonomy:{type:h.STRING,enum:["Remembering","Understanding","Applying","Analyzing","Evaluating","Creating"]},isCompetencyBased:{type:h.BOOLEAN},isPreviousYearQuestion:{type:h.BOOLEAN},options:{type:h.ARRAY,items:{type:h.STRING},nullable:!0},correctAnswer:{type:h.STRING,nullable:!0},explanation:{type:h.STRING,nullable:!0},markingScheme:{type:h.STRING,nullable:!0},modelAnswer:{type:h.STRING,nullable:!0}},required:["questionText","questionType","difficulty","bloomTaxonomy","isCompetencyBased","isPreviousYearQuestion"]},de={type:h.ARRAY,items:ie},ce=async(s,t,o,i)=>{const r=`
        Act as an expert question paper setter for the Indian CBSE curriculum. Your task is to generate a comprehensive and diverse sample of 10-15 questions for a question bank.
        The questions must be for a ${s} student, studying the chapter "${o}" in the subject "${t}".
        The entire response, including all text, explanations, and answers, must be in the ${i} language and adhere to the specified JSON schema.

        For each question, you MUST provide the following metadata:
        1.  **questionText**: The full text of the question.
        2.  **questionType**: Must be one of 'MCQ', 'Short Answer', or 'Long Answer'. Generate a mix of these types.
        3.  **difficulty**: Must be one of 'Easy', 'Medium', or 'Hard'.
        4.  **bloomTaxonomy**: Assign a level from Bloom's Taxonomy ('Remembering', 'Understanding', 'Applying', 'Analyzing', 'Evaluating', 'Creating').
        5.  **isCompetencyBased**: A boolean. Set to true if the question requires application of knowledge or skills in a new situation, rather than just rote recall.
        6.  **isPreviousYearQuestion**: A boolean. Set to true if the question is in the style of, or directly from, a previous year's CBSE board question.

        Based on the 'questionType', provide these additional details:
        -   **For 'MCQ'**:
            -   \`options\`: An array of four distinct strings.
            -   \`correctAnswer\`: The correct string from the options.
            -   \`explanation\`: A detailed explanation of why the correct answer is right.
        -   **For 'Short Answer' and 'Long Answer'**:
            -   \`markingScheme\`: A detailed breakdown of how marks would be awarded (e.g., "1 mark for definition, 2 marks for example").
            -   \`modelAnswer\`: A comprehensive and well-structured model answer.

        Ensure the generated questions cover a range of difficulties and cognitive skills as per Bloom's Taxonomy. The total number of questions in the final array should be between 10 and 15.
    `;try{const a=(await oe.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json",responseSchema:de,temperature:.8}})).text.trim();return JSON.parse(a)}catch(u){throw console.error("Error generating question bank questions:",u),new Error("Failed to generate questions from AI. Please try again.")}},T=({text:s,color:t})=>e.jsx("span",{className:`inline-block px-2.5 py-1 text-xs font-semibold rounded-full ${t}`,children:s}),me=({question:s})=>{const{t}=R(),o={Easy:"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300",Medium:"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300",Hard:"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300"},i={Remembering:"bg-sky-100 dark:bg-sky-900/50 text-sky-700 dark:text-sky-300",Understanding:"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300",Applying:"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300",Analyzing:"bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300",Evaluating:"bg-fuchsia-100 dark:bg-fuchsia-900/50 text-fuchsia-700 dark:text-fuchsia-300",Creating:"bg-rose-100 dark:bg-rose-900/50 text-rose-700 dark:text-rose-300"};return e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100 mb-3",children:s.questionText}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4 text-xs",children:[e.jsx(T,{text:t(s.questionType.toLowerCase().replace(" ","")),color:"bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200"}),e.jsx(T,{text:t(s.difficulty.toLowerCase()),color:o[s.difficulty]}),e.jsx(T,{text:t(s.bloomTaxonomy.toLowerCase()),color:i[s.bloomTaxonomy]}),s.isCompetencyBased&&e.jsx(T,{text:t("competencyBased"),color:"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300"}),s.isPreviousYearQuestion&&e.jsx(T,{text:t("previousYearQuestion"),color:"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300"})]}),s.questionType==="MCQ"&&e.jsxs("div",{className:"space-y-2",children:[s.options.map(r=>e.jsx("p",{className:`px-3 py-1.5 rounded-md text-sm border ${r===s.correctAnswer?"bg-green-50 dark:bg-green-900/30 border-green-300 dark:border-green-700 font-semibold text-green-800 dark:text-green-200":"bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600"}`,children:r},r)),e.jsxs("details",{className:"mt-2 text-sm",children:[e.jsx("summary",{className:"cursor-pointer font-semibold text-primary hover:text-primary-dark",style:{color:"rgb(var(--c-primary))"},children:t("explanation")}),e.jsx("div",{className:"mt-2 p-3 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-200",children:e.jsx("p",{children:s.explanation})})]})]}),(s.questionType==="Short Answer"||s.questionType==="Long Answer")&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("details",{className:"text-sm",children:[e.jsx("summary",{className:"cursor-pointer font-semibold text-primary hover:text-primary-dark",style:{color:"rgb(var(--c-primary))"},children:t("modelAnswer")}),e.jsx("div",{className:"mt-2 p-3 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-200",children:e.jsx("p",{className:"whitespace-pre-wrap",children:s.modelAnswer})})]}),e.jsxs("details",{className:"text-sm",children:[e.jsx("summary",{className:"cursor-pointer font-semibold text-primary hover:text-primary-dark",style:{color:"rgb(var(--c-primary))"},children:t("markingScheme")}),e.jsx("div",{className:"mt-2 p-3 bg-slate-100 dark:bg-slate-700 rounded-md text-slate-700 dark:text-slate-200",children:e.jsx("p",{className:"whitespace-pre-wrap",children:s.markingScheme})})]})]})]})},ue=({onBack:s})=>{const{t,tCurriculum:o,language:i}=R(),[r,u]=d.useState(null),[a,x]=d.useState(null),[p,j]=d.useState(null),[v,g]=d.useState(null),[f,w]=d.useState(!1),[N,k]=d.useState(null),S=d.useMemo(()=>P.filter(n=>parseInt(n.level.split(" ")[1])>=6),[]),C=async()=>{if(!(!r||!a||!p)){w(!0),k(null),g(null);try{const n=await ce(r.level,a.name,p.title,i);n.length===0?k(t("noQuestionsGenerated")):g(n)}catch(n){k(n.message)}finally{w(!1)}}};return e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("button",{onClick:s,className:"flex items-center text-primary hover:text-primary-dark font-semibold transition mb-6",style:{color:"rgb(var(--c-primary))"},children:[e.jsx(q,{className:"h-5 w-5 mr-2"}),t("backToDashboard")]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"text-center border-b border-slate-200 dark:border-slate-700 pb-6 mb-6",children:[e.jsx(W,{className:"h-12 w-12 mx-auto text-primary",style:{color:"rgb(var(--c-primary))"}}),e.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mt-2",children:t("questionBankTitle")}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 max-w-2xl mx-auto",children:t("questionBankPrompt")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("select",{value:(r==null?void 0:r.level)||"",onChange:n=>{u(S.find(y=>y.level===n.target.value)||null),x(null),j(null)},className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition",children:[e.jsx("option",{value:"",disabled:!0,children:t("selectGradePlaceholder")}),S.map(n=>e.jsx("option",{value:n.level,children:o(n.level)},n.level))]}),e.jsxs("select",{value:(a==null?void 0:a.name)||"",disabled:!r,onChange:n=>{x((r==null?void 0:r.subjects.find(y=>y.name===n.target.value))||null),j(null)},className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition disabled:opacity-50",children:[e.jsx("option",{value:"",disabled:!0,children:t("selectSubjectPrompt")}),r==null?void 0:r.subjects.map(n=>e.jsx("option",{value:n.name,children:o(n.name)},n.name))]}),e.jsxs("select",{value:(p==null?void 0:p.title)||"",disabled:!a,onChange:n=>j((a==null?void 0:a.chapters.find(y=>y.title===n.target.value))||null),className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition disabled:opacity-50",children:[e.jsx("option",{value:"",disabled:!0,children:t("selectChapterPlaceholder")}),a==null?void 0:a.chapters.map(n=>e.jsx("option",{value:n.title,children:o(n.title)},n.title))]})]}),e.jsx("div",{className:"text-center mb-6",children:e.jsx("button",{onClick:C,disabled:!p||f,className:"flex items-center justify-center w-full md:w-auto md:mx-auto px-8 py-3 text-white font-bold rounded-lg btn-primary-gradient disabled:opacity-70 disabled:cursor-not-allowed",children:f?e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsx("span",{className:"ml-2",children:t("generatingQuestions")})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:t("generateQuestions")})]})})}),N&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-center font-semibold",children:N}),v&&e.jsx("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700 space-y-4 max-h-[800px] overflow-y-auto pr-2",children:v.map((n,y)=>e.jsx(me,{question:n},y))})]})]})},xe=s=>{const t=sessionStorage.getItem(s);if(!t)return null;try{const{data:o,expiry:i}=JSON.parse(t);return i&&Date.now()>i?(sessionStorage.removeItem(s),null):o}catch(o){return console.error("Failed to parse cached data",o),null}},pe=(s,t,o=60)=>{const i=Date.now()+o*60*1e3,r=JSON.stringify({data:t,expiry:i});try{sessionStorage.setItem(s,r)}catch(u){console.error("Failed to set cached data",u)}},be=s=>s.split(`
`).map((t,o)=>{if(t.match(/^\s*\*\*(.+?):\*\*/)){const i=t.replace(/^\s*\*\*(.+?):\*\*/,"$1");return e.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mt-4 mb-2",children:i},o)}return t.match(/^\s*[-*]\s/)?e.jsx("li",{className:"ml-5 list-disc text-slate-600 dark:text-slate-300 mb-1",children:t.replace(/^\s*[-*]\s/,"")},o):t.trim()?e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-2",children:t},o):null}).filter(Boolean),he=({onBack:s})=>{const{t,tCurriculum:o,language:i}=R(),[r,u]=d.useState(null),[a,x]=d.useState(null),[p,j]=d.useState(null),[v,g]=d.useState(null),[f,w]=d.useState(!1),[N,k]=d.useState(null),[S,C]=d.useState(null),[n,y]=d.useState(!1),O=d.useMemo(()=>P.filter(l=>parseInt(l.level.split(" ")[1])>=6),[]),I=l=>l.replace(/'/g,"''"),B=(l,b,m)=>{var L;let c=`-- Alfanumrik AI Curriculum Generator SQL Export
`;c+=`-- Grade: ${l.level}
`,c+=`-- Subject: ${b.name}
`,c+=`-- Generated on: ${new Date().toISOString()}

`,c+=`-- NOTE: This script populates grades, subjects, chapters, and topics (from learning objectives).
`,c+=`-- Other tables like subtopics, questions, and explanations are not populated by this generator.

`;const $=1,F=1;let _=1,Y=1;const z=((L=l.level.match(/\d+/))==null?void 0:L[0])||"0";return c+=`-- Grades Table
`,c+=`INSERT INTO grades (id, grade_number, description) VALUES (${$}, ${z}, '${I(l.description)}');

`,c+=`-- Subjects Table
`,c+=`INSERT INTO subjects (id, name, grade_id) VALUES (${F}, '${I(b.name)}', ${$});

`,c+=`-- Chapters and Topics (Learning Objectives)
`,m.forEach((G,J)=>{const M=_++;c+=`INSERT INTO chapters (id, title, chapter_number, subject_id) VALUES (${M}, '${I(G.chapterTitle)}', ${J+1}, ${F});
`,G.learningObjectives.forEach(H=>{const K=Y++;c+=`INSERT INTO topics (id, title, chapter_id, difficulty_level) VALUES (${K}, '${I(H)}', ${M}, 'Medium');
`}),c+=`
`}),c},U=async()=>{if(!r||!a)return;w(!0),k(null),j(null),g(null),C(null);const l=`curriculum-${r.level}-${a.name}-${i}`,b=xe(l);if(b){j(b);const m=B(r,a,b);g(m),w(!1);return}try{const m=await se(r.level,a.name,i);if(m.length===0)k(t("noOutlineGenerated"));else{j(m),pe(l,m,1440);const c=B(r,a,m);g(c)}}catch(m){k(m.message)}finally{w(!1)}},D=async()=>{if(!(!p||!r||!a)){y(!0),k(null),C(null);try{const l=await le(p,r.level,a.name,i);C(l)}catch(l){k(l.message||t("validationError"))}finally{y(!1)}}},V=()=>{if(!v||!r||!a)return;const l=new Blob([v],{type:"application/sql"}),b=URL.createObjectURL(l),m=document.createElement("a");m.href=b;const c=r.level.replace(/\s+/g,"_"),$=a.name.replace(/\s+/g,"_");m.download=`alfanumrik_curriculum_${c}_${$}.sql`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(b)};return e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("button",{onClick:s,className:"flex items-center text-primary hover:text-primary-dark font-semibold transition mb-6",style:{color:"rgb(var(--c-primary))"},children:[e.jsx(q,{className:"h-5 w-5 mr-2"}),t("backToDashboard")]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"text-center border-b border-slate-200 dark:border-slate-700 pb-6 mb-6",children:[e.jsx(E,{className:"h-12 w-12 mx-auto text-primary",style:{color:"rgb(var(--c-primary))"}}),e.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mt-2",children:t("curriculumGenerator")}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 max-w-2xl mx-auto",children:t("curriculumGeneratorPrompt")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("select",{value:(r==null?void 0:r.level)||"",onChange:l=>{u(O.find(b=>b.level===l.target.value)||null),x(null)},className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition",children:[e.jsx("option",{value:"",disabled:!0,children:t("selectGradePlaceholder")}),O.map(l=>e.jsx("option",{value:l.level,children:o(l.level)},l.level))]}),e.jsxs("select",{value:(a==null?void 0:a.name)||"",disabled:!r,onChange:l=>{x((r==null?void 0:r.subjects.find(b=>b.name===l.target.value))||null)},className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition disabled:opacity-50",children:[e.jsx("option",{value:"",disabled:!0,children:t("selectSubjectPrompt")}),r==null?void 0:r.subjects.map(l=>e.jsx("option",{value:l.name,children:o(l.name)},l.name))]})]}),e.jsxs("div",{className:"text-center mb-6 flex flex-col sm:flex-row justify-center items-center gap-4",children:[e.jsx("button",{onClick:U,disabled:!a||f,className:"flex items-center justify-center w-full sm:w-auto px-8 py-3 text-white font-bold rounded-lg btn-primary-gradient disabled:opacity-70 disabled:cursor-not-allowed",children:f?e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsx("span",{className:"ml-2",children:t("generatingOutline")})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:t("generateOutline")})]})}),v&&e.jsxs("button",{onClick:V,disabled:f,className:"flex items-center justify-center w-full sm:w-auto px-8 py-3 bg-teal-600 hover:bg-teal-700 text-white font-bold rounded-lg shadow-md transition disabled:opacity-70",children:[e.jsx(Z,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:t("downloadAsSql")})]}),p&&!f&&e.jsx("button",{onClick:D,disabled:n,className:"flex items-center justify-center w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white font-bold rounded-lg shadow-md transition disabled:opacity-70",children:n?e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsx("span",{className:"ml-2",children:t("validatingCurriculum")})]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:t("validateCurriculum")})]})})]}),N&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-center font-semibold",children:N}),p&&e.jsx("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700 space-y-4 max-h-[800px] overflow-y-auto pr-2",children:p.map((l,b)=>e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"font-bold text-lg text-primary-dark dark:text-primary flex items-center mb-3",style:{color:"rgb(var(--c-primary-dark))"},children:[e.jsx(X,{className:"h-5 w-5 mr-2"}),l.chapterTitle]}),e.jsx("ul",{className:"space-y-2",children:l.learningObjectives.map((m,c)=>e.jsxs("li",{className:"flex items-start text-slate-600 dark:text-slate-300",children:[e.jsx(ee,{className:"h-4 w-4 mr-2 mt-1 flex-shrink-0 text-green-500"}),e.jsx("span",{children:m})]},c))})]},b))}),n&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700 flex flex-col items-center",children:[e.jsx(A,{}),e.jsx("p",{className:"mt-2 text-primary-dark font-semibold",children:t("validatingCurriculum")})]}),S&&e.jsxs("div",{className:"mt-8 pt-6 border-t-2 border-dashed border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"text-center mb-4",children:e.jsxs("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center justify-center",children:[e.jsx(Q,{className:"h-7 w-7 mr-2 text-primary",style:{color:"rgb(var(--c-primary))"}}),t("qualityReportTitle")]})}),e.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg",children:be(S)})]})]})]})},ge=()=>{const{t:s}=R(),[t,o]=d.useState(null),[i,r]=d.useState(!1),[u,a]=d.useState(null),[x,p]=d.useState(null),j=v=>{var f;const g=(f=v.target.files)==null?void 0:f[0];if(g){if(g.type!=="text/csv"){p("Invalid file type. Please upload a CSV file."),o(null),a(null);return}p(null),a(null),o(g.name),r(!0),setTimeout(()=>{a({success:Math.floor(Math.random()*20)+10,failed:Math.floor(Math.random()*3)}),r(!1)},2e3)}};return e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700 mt-8",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:"Bulk Student Onboarding"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Upload a CSV file with student data (columns: name, email, password, grade) to create multiple student accounts at once."}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"csv-upload",className:"w-full cursor-pointer bg-white dark:bg-slate-700 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-6 flex flex-col items-center justify-center hover:border-primary dark:hover:border-primary-light transition",children:[e.jsx(ae,{className:"h-10 w-10 text-slate-400 dark:text-slate-500"}),e.jsx("span",{className:"mt-2 font-semibold text-primary dark:text-primary-light text-center",children:t?`File: ${t}`:"Choose a CSV file to upload"}),e.jsx("input",{id:"csv-upload",type:"file",accept:".csv",className:"sr-only",onChange:j})]})}),i&&e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-slate-600 dark:text-slate-300",children:[e.jsx(A,{}),e.jsx("span",{children:"Processing file... This may take a moment."})]}),x&&e.jsx("p",{className:"mt-4 text-center text-red-600 dark:text-red-400 font-semibold",children:x}),u&&e.jsxs("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/40 text-green-800 dark:text-green-200 rounded-lg font-semibold text-center",children:["Processing Complete: ",u.success," students onboarded successfully, ",u.failed," failed."]})]})},we=({students:s,onSelectStudent:t,onBack:o})=>{const{t:i,tCurriculum:r}=R(),[u,a]=d.useState("students");return u==="questionBank"?e.jsx(ue,{onBack:()=>a("students")}):u==="curriculumGenerator"?e.jsx(he,{onBack:()=>a("students")}):e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("button",{onClick:o,className:"flex items-center text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-semibold transition mb-6",children:[e.jsx(q,{className:"h-5 w-5 mr-2"}),i("backToRoleSelection")]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg",children:[e.jsxs("div",{className:"border-b dark:border-slate-600 pb-4 mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:i("teacherDashboard")}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mt-1",children:i("teacherDashboardPrompt")})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>a("questionBank"),className:"flex-shrink-0 flex items-center justify-center px-4 py-2 bg-white dark:bg-slate-700 border border-primary/50 text-primary-dark font-semibold rounded-lg shadow-sm hover:bg-primary-light dark:hover:bg-slate-600 transition",style:{borderColor:"rgba(var(--c-primary), 0.5)",color:"rgb(var(--c-primary-dark))"},children:[e.jsx(te,{className:"h-5 w-5 mr-2"}),i("accessQuestionBank")]}),e.jsxs("button",{onClick:()=>a("curriculumGenerator"),className:"flex-shrink-0 flex items-center justify-center px-4 py-2 bg-white dark:bg-slate-700 border border-primary/50 text-primary-dark font-semibold rounded-lg shadow-sm hover:bg-primary-light dark:hover:bg-slate-600 transition",style:{borderColor:"rgba(var(--c-primary), 0.5)",color:"rgb(var(--c-primary-dark))"},children:[e.jsx(E,{className:"h-5 w-5 mr-2"}),i("curriculumGenerator")]})]})]}),e.jsx("div",{className:"space-y-4",children:s.map(x=>e.jsxs("button",{onClick:()=>t(x),className:"w-full flex items-center justify-between bg-slate-50 dark:bg-slate-700 p-4 rounded-lg hover:bg-indigo-50 dark:hover:bg-slate-600 hover:shadow-sm transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:x.avatarUrl,alt:x.name,className:"h-12 w-12 rounded-full mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg",children:x.name}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r(x.grade)})]})]}),e.jsx(re,{className:"h-6 w-6 text-slate-400 dark:text-slate-500"})]},x.id))}),e.jsx(ge,{})]})]})};export{we as T};
